project: HC

name: home-credit-default-risk
tags: [solution-1]

metric:
  channel: 'ROC_AUC'
  goal: maximize

exclude:
  - output
  - imgs
  - neptune.log
  - offline_job.log
  - .git
  - .idea
  - .ipynb_checkpoints
  - Untitled.ipynb

parameters:
# Data
  train_filepath:             /mnt/ml-team/minerva/open-solutions/home-credit/data/application_train.csv.zip
  test_filepath:              /mnt/ml-team/minerva/open-solutions/home-credit/data/application_test.csv.zip
  sample_submission_filepath: /mnt/ml-team/minerva/open-solutions/home-credit/data/sample_submission.csv.zip
  experiment_dir:             /mnt/ml-team/homes/patryk.miziula/Minerva/home_credit_nongit/tmp
#  train_filepath: /input/data/application_train.csv.zip
#  test_filepath: /input/data/application_test.csv.zip
#  sample_submission_filepath: /input/data/sample_submission.csv.zip
#  experiment_dir: /outputs/patryk

# Validation
  target_bins: 100
  validation_size: 0.2

# Execution
  overwrite: 1
  num_workers: 10
  verbose: 1

# Preprocessing
  target_encoder__n_splits: 10

# Light GBM
  lgbm_random_search_runs: 50
  lgbm__device: cpu
  lgbm__boosting_type: gbdt
  lgbm__objective: binary
  lgbm__metric: auc
  lgbm__number_boosting_rounds: 1000
  lgbm__early_stopping_rounds: 100
  lgbm__learning_rate: '[0.01, 0.05, "log-uniform"]'
  lgbm__num_leaves: '[21, 41, "choice"]'
  lgbm__max_depth: -1
  lgbm__min_child_samples: '[1, 40, "choice"]'
  lgbm__max_bin: '[155, 355, "choice"]'  # at most 255 for device=gpu
  lgbm__subsample: '[0.5, 1., "uniform"]'  # 1 for goss
  lgbm__subsample_freq: 1
  lgbm__colsample_bytree: '[0.5, 1., "uniform"]'
  lgbm__min_child_weight: 4
  lgbm__reg_lambda: '[0.00001, 1.0, "log-uniform"]'
  lgbm__reg_alpha: '[0.00001, 1.0, "log-uniform"]'
  lgbm__scale_pos_weight: 1

# XGBoost
  xgb_random_search_runs: 50
  xgb__booster: gbtree
  xgb__tree_method: hist # gpu_hist  # auto  hist
  xgb__objective: binary:logistic
  xgb__eval_metric: auc
  xgb__nrounds: 1000
  xgb__early_stopping_rounds: 100
  xgb__eta: '[0.001, 0.1, "log-uniform"]'
  xgb__max_leaves: '[21, 41, "choice"]'
  xgb__max_depth: 16
  xgb__max_bin: '[155, 355, "choice"]'
  xgb__subsample: '[0.5, 1., "uniform"]'
  xgb__colsample_bytree: '[0.5, 1., "uniform"]'
  xgb__colsample_bylevel: 1
  xgb__min_child_weight: 4
  xgb__lambda: '[0.00001, 1.0, "log-uniform"]'
  xgb__alpha: '[0.00001, 1.0, "log-uniform"]'
  xgb__scale_pos_weight: 1
